# Qwen Code, Kokoro TTS

U ovoj lekciji istražit ćemo svijet Text-to-Speech (TTS) tehnologija i naučiti kako integrisati pretvaranje teksta u govor u naše aplikacije. Fokusirat ćemo se na **Kokoro TTS**, visokokvalitetni, besplatni i open-source sistem, ali ćemo se osvrnuti i na alternative koje nude Google i OpenAI.

## 1. Upoznavanje sa Kokoro TTS i drugim TTS rješenjima

**1. Šta je Kokoro TTS?**

- **Kokoro TTS** je napredni, besplatni Text-to-Speech model koji proizvodi izuzetno prirodan i kvalitetan govor.
- [https://github.com/hexgrad/kokoro](https://github.com/hexgrad/kokoro)
- **Ključne prednosti:**
    - **Besplatan je:** Možete ga koristiti lokalno bez ikakvih troškova.
    - **Visok kvalitet:** Zvuk je na nivou profesionalnih, plaćenih servisa.
    - **Lokalno pokretanje:** Može se pokrenuti direktno na vašem računaru (ako imate dovoljno jak hardver, s grafičkom karticom veoma brzo radi) ili na serveru, dajući vam potpunu kontrolu.
    - **Više glasova i jezika:** Nudi različite glasove (muške, ženske) i akcente (američki, britanski, španski, itd.).

**2. Alternative:**

- **Google AI Studio (Gemini TTS):** Google nudi svoj TTS model. Prednost mu je podrška za više jezika, uključujući i naš, ali je limitiran ([https://ai.google.dev/gemini-api/docs/rate-limits](https://ai.google.dev/gemini-api/docs/rate-limits)).
- **OpenAI Playground (GPT TTS):** OpenAI također ima svoj TTS model. Nudi visok kvalitet, ali se njegovo korištenje naplaćuje.
- **gTTS (Google Text-to-Speech):** Ovo je Python biblioteka koja koristi "neslužbeni" API Google Translate-a. Kvalitet je niži i nije namijenjen za profesionalnu upotrebu.

## 2. Najlakši način za pokretanje Kokoro TTS-a lokalno

![webui-screenshot.png](/files/images/08_webui-screenshot.png)

Instalacija Kokoro TTS-a od nule može biti komplikovana. Zato ćemo koristiti lakši put – gotov projekat koji ga pokreće kao server.

**1. Preuzimanje i pokretanje Kokoro Fast API Servera:**

- Idite na [**Kokoro Fast API GitHub stranicu**](https://github.com/daz-3d/kokoro-fast-api).
- Kliknite na zeleno dugme **"< > Code"** i odaberite **"Download ZIP"**. Raspakujte arhivu na svom računaru. Drugi način jeste da klonirate repozitorij putem “git clone” komande.
- Unutar raspakovanog foldera, pronaći ćete dvije PowerShell skripte:
    - `start-cpu.ps1`: Za pokretanje servera koristeći samo procesor (sporije, ali radi na svim računarima).
    - `start-gpu.ps1`: Za pokretanje na NVIDIA grafičkoj kartici (mnogo brže, preporučeno ako je imate).
- Desni klik na odgovarajuću skriptu i odaberite **"Run with PowerShell"**.
- Prvi put, skripta će automatski preuzeti i instalirati sve što je potrebno (uključujući i sam Kokoro TTS model). Ovo može potrajati.
- Kada se završi, u terminalu će se ispisati adresa na kojoj server radi (npr. `http://127.0.0.1:8888)`.

**2. Testiranje servera:**

- Otvorite web-preglednik i unesite adresu [http://localhost:8880/web](http://localhost:8880/web). Trebali biste vidjeti jednostavan interfejs gdje možete testirati generisanje govora.

## 3. Povezivanje naše aplikacije sa lokalnim Kokoro TTS Serverom

Sada kada imamo server koji radi, naša Streamlit aplikacija će komunicirati s njim. Pošto Kokoro Fast API koristi OpenAI-kompatibilan API, kod će biti vrlo sličan onome iz prethodne lekcije.

**1. Kreiranje aplikacije uz pomoć AI-ja:**

- U novom projektnom folderu, otvorite terminal.
- Koristite Qwen/Gemini CLI da generiše početni kod:
    
    ```
    Create a simple Python script using Streamlit interface that connects to Kokoro TTS server via OpenAI-compatible API.
    ```
    
- AI će vam generisati osnovnu aplikaciju (`tts_app.py`) i instalirati potrebne pakete (`streamlit`, `openai`).

**2. Konfiguracija koda za povezivanje (`tts_app.py`):**

- Otvorite generisani fajl. Ključni dio je konfiguracija OpenAI klijenta.
- Podesite `base_url` na adresu vašeg lokalnog Kokoro servera:
    
    ```python
    base_url="<http://127.0.0.1:8880/v1>"
    # Provjerite tačnu adresu i port u terminalu gdje ste pokrenuli server!
    ```
    
- Pošto lokalni server ne traži API ključ, postavite `api_key` na bilo koju vrijednost:
    
    ```python
    api_key="not-needed"
    ```
    
- **Dodavanje glasova:** Aplikacija treba da zna koje glasove može ponuditi. Ručno dodajte listu dostupnih glasova (možete ih pronaći u dokumentaciji Kokoro Fast API-ja):
    
    ```python
    voices = ["af_sky", "af_bella", "af_nicole", ...]
    selected_voice = st.selectbox("Odaberite glas:", voices)
    ```
    

**3. Pokretanje i testiranje:**

- Pokrenite svoju Streamlit aplikaciju: `streamlit run tts_app.py`.
- Unesite tekst, odaberite glas i kliknite na dugme za generisanje.
- Aplikacija će poslati zahtjev vašem lokalnom Kokoro serveru. Server će generisati audio fajl i vratiti ga aplikaciji, koja će ga zatim reproducirati.

## Zaključak

Uspješno smo postavili moćan, lokalni Text-to-Speech sistem i povezali ga sa našom aplikacijom. Ovo otvara vrata za kreiranje interaktivnih glasovnih asistenata, audio knjiga, i mnogih drugih aplikacija, a sve to besplatno i sa potpunom kontrolom nad podacima.